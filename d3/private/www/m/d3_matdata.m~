
function html = d3_matdata(m,s)
    %% html = D3_MATDATA(vals,name)
    
    %% warnings
    %#ok<*AGROW>
    
    %% function
    html = '';
    
    try
        switch(class(m))
            case {'double','single','logical','int8','uint8','int16','uint16','int32','uint32','int64','uint64'}
                html = [html,s,' = ['];
                html = [html,sprintf('%.3f,',m)];
                html = [html,'];',10];
            case 'char'
                html = [html,s,' = "',m,'";',10];
    %                 case 'cell'
    %                     html = [html,s,'[',num2str(i),']["',f,'"] = '];
    %                     html = [html,'"cell"'];
    %                     html = [html,';',10];
            case 'struct'
                if ~exist('s','var'), s = 'data'; end
                u = fieldnames(m);
                n = length(u);
                if ~n, return; end
                html = [html,s,' = {};'];
                for i = 1:n
                    f = u{i};
                    v = m.(f);
                    end
                end
                html = [html,s,' = {};',10];
                html = [html,s,'["',f,'"] = [];',10];
                html = [html,d3_matdata(v,[s,'["',f,'"]'])];
            otherwise
                error('d3_matdata: error. data of class "%s" not accepted',d3_matdata);
        
        
    catch ME
        disp(html);
        rethrow(ME);
    end

end